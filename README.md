# LaraverTask - Блог с комментариями

Простое приложение-блог на Laravel 12 + React 18 с REST API для статей и комментариев, контейнеризированное с помощью Docker.

## Требования

Перед установкой убедитесь, что у вас установлены:
- [Docker](https://www.docker.com/get-started) (версия 20.10+)
- [Docker Compose](https://docs.docker.com/compose/install/) (версия 2.0+)
- Git (опционально, для клонирования репозитория)

## Быстрый старт

### 1. Клонирование репозитория

```bash
git clone https://github.com/fedek1324/laravel-blog
cd laravel-blog/
```

### 2. Запуск Docker контейнеров

При запущенном Docker Desktop выполните команду для скачивания образов и запуска контейнеров (может занять до 15 минут):

```bash
docker-compose up -d
```

Эта команда запустит 4 контейнера:
- `dockerized-laravel-app` - PHP приложение Laravel (API)
- `dockerized-laravel-frontend` - Next.js фронтенд (SSR)
- `dockerized-laravel-webserver` - Nginx веб-сервер
- `dockerized-laravel-db` - MySQL база данных

**Примечание:** При первом запуске автоматически выполнится:

- Установка npm зависимостей
- Сборка фронтенда
- Создание таблиц в БД (миграции)
- Заполнение БД тестовыми данными (5 статей с 3 комментариями каждая)

Это может занять несколько минут.

### 3. Доступ к приложению

Откройте браузер и перейдите по адресу:

<b>Если сайт показывает ошибку загрузки статей, то нужно подождать до 10 минут, а потом обновить страницу. Нужно подождать пока все контейнеры Docker отработают. Отслеживать можно по логу контейнера dockerized-laravel-app.</b>


```
http://localhost:8080
```

## Дополнительные команды

### Пересоздание БД с тестовыми данными

Если нужно пересоздать БД с нуля:

```bash
docker-compose exec app php artisan migrate:fresh --seed
```

### Просмотр логов контейнера

```bash
docker-compose logs -f app
```

### Остановка контейнеров

```bash
docker-compose down
```

### Полная очистка (включая volumes с БД)

```bash
docker-compose down -v
```
